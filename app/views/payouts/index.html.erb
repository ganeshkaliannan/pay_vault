<div class="page-container">
  <div class="page-header">
    <div class="page-icon">ðŸ’¸</div>
    <div>
      <h1>Payout History</h1>
      <p>View all your disbursement requests</p>
    </div>
    <div style="margin-left: auto;">
      <%= link_to "New Payout", new_payout_path, class: "btn btn-primary" %>
    </div>
  </div>

  <div class="data-table">
    <div class="table-header">
      <h2>Recent Payouts</h2>
      <div class="table-actions">
        <span class="page-info">Page <%= @payouts.current_page %> of <%= @payouts.total_pages %></span>
      </div>
    </div>
    
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Beneficiary</th>
          <th>Amount</th>
          <th>Mode</th>
          <th>Status</th>
          <th>Date</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <% if @payouts.any? %>
          <% @payouts.each do |payout| %>
            <tr>
              <td style="font-family: monospace;">#<%= payout.id %></td>
              <td>
                <div style="font-weight: 500;"><%= payout.beneficiary&.name || 'Unknown' %></div>
                <div style="font-size: 0.8em; color: #6b7280;"><%= payout.beneficiary&.bank_name %></div>
              </td>
              <td style="font-weight: 500;">
                <%= number_to_currency(payout.amount_cents / 100.0, unit: payout.currency == 'INR' ? 'â‚¹' : '$') %>
              </td>
              <td style="text-transform: uppercase;"><%= payout.payout_method %></td>
              <td>
                <span class="status-badge <%= payout.status %>">
                  <%= payout.status.capitalize %>
                </span>
              </td>
              <td><%= payout.created_at.strftime('%b %d, %H:%M') %></td>
              <td>
                <%= link_to "View", payout_path(payout), class: "btn-small" %>
              </td>
            </tr>
          <% end %>
        <% else %>
          <tr>
            <td colspan="7" style="text-align: center; padding: 40px;">
              <p>No payouts found.</p>
              <%= link_to "Make your first payout", new_payout_path, class: "btn btn-primary" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
    
    <div class="pagination">
      <%= paginate @payouts %>
    </div>
  </div>
</div>
